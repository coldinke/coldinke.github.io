<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Docker | V1nci 的博客</title>
<meta name=keywords content><meta name=description content="V1nci's bloggggg...."><meta name=author content="V1nci"><link rel=canonical href=https://blog.v1nci.xyz/zh/tags/docker/><link crossorigin=anonymous href=/assets/css/stylesheet.45e028aa8ce0961349adf411b013ee39406be2c0bc80d4ea3fc04555f7f4611a.css integrity="sha256-ReAoqozglhNJrfQRsBPuOUBr4sC8gNTqP8BFVff0YRo=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.v1nci.xyz/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://blog.v1nci.xyz/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://blog.v1nci.xyz/favicon-32x32.png><link rel=apple-touch-icon href=https://blog.v1nci.xyz/apple-touch-icon.png><link rel=mask-icon href=https://blog.v1nci.xyz/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://blog.v1nci.xyz/zh/tags/docker/index.xml><link rel=alternate hreflang=zh href=https://blog.v1nci.xyz/zh/tags/docker/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://blog.v1nci.xyz/zh/tags/docker/"><meta property="og:site_name" content="V1nci 的博客"><meta property="og:title" content="Docker"><meta property="og:description" content="V1nci's bloggggg...."><meta property="og:locale" content="zh"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Docker"><meta name=twitter:description content="V1nci's bloggggg...."></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.v1nci.xyz/zh/ accesskey=h title="V1nci 的博客 (Alt + H)">V1nci 的博客</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://blog.v1nci.xyz/ title=English aria-label=English>English</a></li></ul></div></div><ul id=menu><li><a href=https://blog.v1nci.xyz/zh/archives/ title=归档><span>归档</span></a></li><li><a href=https://blog.v1nci.xyz/zh/search/ title=搜索><span>搜索</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://blog.v1nci.xyz/zh/>主页</a>&nbsp;»&nbsp;<a href=https://blog.v1nci.xyz/zh/tags/>Tags</a></div><h1>Docker
<a href=/zh/tags/docker/index.xml title=RSS aria-label=RSS><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Docker 学习系列（二）： Building images</h2></header><div class=entry-content><p>如何使用 Docker 构建镜像并发布？ 镜像的相关概念 从官方文档可以得到如下信息：
Container images are composed of layers. And each of these layers, once created, are immutable.
可知，我们这里说构建镜像实际的就是对 layer 进行操作。这里的 layer 是什么？我们继续浏览官方文档。文档中给出了定义如下：
Image Layers: Each layer in an image contains a set of filesystem changes - additions, deletions or modifications.
为了说明该定义官网还举了一个示例说明，以下是我的理解： 它的构建过程如下：
第一层添加些基本工具如 ls, cat，apt(包管理工具)。 第二层安装编程语言的运行时环境和依赖管理工具。如果是 Python 项目，既需要安装 Python 的运行时环境以及对应的依赖管理工具 pip。 第三层从应用程序的工作目录下复制一些必要的配置文件。如 Python 项目需要使用 requirements.txt 来指定当前应用程序需要用到的依赖库。 第四层根据第三层复制的配置文件为应用程序安装必要的依赖文件。 第五层将应用程序的源代码拷贝到当前的镜像中。 这五层可以分为两个阶段： 一是开发环境/运行环境搭建；二是安装应用程序源码及构建应用程序。 而这样分层存储的好处是使 layers 可以在不同的镜像中复用。例如， Image1 和 Image2 同为Python项目，它们使用的开发环境（主要指操作系统和 Python 版本）一致。如果 Image1 又先于 Image2 在本机上测试。 Image2 可以复用 Image1 中关于描述开发环境的 layer。...</p></div><footer class=entry-footer><span title='2024-08-03 16:25:13 +0800 +0800'>八月 3, 2024</span>&nbsp;·&nbsp;3 分钟&nbsp;·&nbsp;V1nci</footer><a class=entry-link aria-label="post link to Docker 学习系列（二）： Building images" href=https://blog.v1nci.xyz/zh/develop/docker_note_2/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Docker 学习系列（一）： Hello Docker!</h2></header><div class=entry-content><p>Docker 基础介绍及常用命令 简介 Docker 使用 Go 语言开发，基于内核的 cgroup, namespace 以及 OverlayFS 类的 UnionFS 等技术，对进程进行封装隔离，属于操作系统层面的虚拟化技术。
基本概念： 镜像 （Image） 官方文档的描述如下：
The are two important principles of images:
Images are immutable. Once an image is created, it can’t be modified. You can only make new image or add changes on top of it. Container images are composed of layers. Each layer represented a set of file system changes that add, remove or modify files....</p></div><footer class=entry-footer><span title='2024-08-03 12:36:32 +0800 +0800'>八月 3, 2024</span>&nbsp;·&nbsp;2 分钟&nbsp;·&nbsp;V1nci</footer><a class=entry-link aria-label="post link to Docker 学习系列（一）： Hello Docker!" href=https://blog.v1nci.xyz/zh/develop/docker_note_1/></a></article></main><footer class=footer><span>2024 - 2025 © V1nci</span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>